@*@model IEnumerable<CarRepairReport.Models.ViewModels.ForumVm.ViewPostVm>*@
@model CarRepairReport.Models.ViewModels.ForumVm.ViewPostVm

@{
    
}

@foreach (var child in Model.Children)
{
    <div class="row crr-box @child.CssStyleColor">
        <div class="col col-sm-12">

            <div class="row">
                <div class="col col-sm-3">
                    @child.AuthorName alexxxx
                </div>
                <div class="col col-sm-9 text-right">
                    @child.CreatedOn.ToString("D")
                </div>
            </div>
            <br />

            <div class="row">
                <div class="col col-sm-12">
                    @child.Title
                </div>
            </div>

            <br />

            <div class="row">
                <div class="col col-sm-12">
                    @child.Content
                </div>
            </div>

            <div class="row">
                <div class="col col-sm-12 text-right">
                    <span class="btn btn-default">Answer</span>
                </div>
            </div>
            
            <div class="row post-answer">

                <div class="col col-sm-12">
                    
                    @using (Html.BeginForm("SetAnswer", "Forum", FormMethod.Post))
                    {
                        @Html.AntiForgeryToken()
                        
                        <input type="number" value='@child.Id' name="id" hidden="true"/>

                        <textarea name="Content"></textarea>

                        <input type="submit" value="@LR("Answer", Model.LanguageCode)" />
                    }
                </div>

            </div>
            
            @if (child.Id > 0)
            {
                <div class="post-children">
                    @Html.Action("PostChildrenId", new { id = child.Id })
                </div>
            }
            
        </div>
        
    </div>

    
}
